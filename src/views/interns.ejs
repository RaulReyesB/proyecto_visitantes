<!DOCTYPE html>
<html>

<head>
    <title>
        <%= namePage %>
    </title>
    <!--  estilos de css y bootstrap -->
    <link rel="stylesheet" href="/css/styleRegister.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>

<body style="font-family: 'Poppins', sans-serif; background-image: url('https://chij3.s3.amazonaws.com/images/atractivos/a.8175e459d0eca153e2bdc51c9a03c17d.png');"></body>
<div class="container">
    <div class="cont-title">
        <h1>Visitas</h1>
    </div>
            <!--  Contenedor del formulario  -->
    <div class="container-form">
        <form action="/registroInternos" method="POST">
            <div class="form-inputs">
                <div class="form-p">
            <label for="">Ingresa tu nombre</label>
            <input class="form-control"  type="text" name="name" id="" placeholder="Nombre">
            <label  for="">Telefono con 10 caracteres</label>
            <input class="form-control"  type="text" name="phone" placeholder="Telefono">
            <label  for="">Identificaci贸n</label>
            <select class="form-control" name="identification" required>
                <option selected disabled>-- Seleccione una opci贸n --</option>
                <option value="INE">INE</option>
                <option value="Pasaporte">Pasaporte</option>
                <option value="Licencia">Licencia</option>
            </select>

                </div>
                <div class="form-p">
            <label for="">CURP</label>
            <input class="form-control" type="text" name="CURP" placeholder="Curp">
            <label for="">Correo electronico</label>
            <input class="form-control" type="text" name="email" placeholder="Correo electronico">
            </div>
            <div class="form-p mr-0">
            <label for="">Procedencia</label>
            <input class="form-control" type="text" name="origin" placeholder="Procedencia">
            <label for="">Numero de gafete</label>
            <input class="form-control" type="text" name="badge" placeholder="inserte el numero de gafete">
            <label for="mainSelect">Selecciona un departamento</label>
            <select class="form-control" id="mainSelect" name="department" required>
                <option selected disabled>-- Seleccione una opci贸n --</option>
                <option value="DG">Direccion General</option>
                <option value="DCFP">Direccion de coordinacion financiera y planeacion</option>
                <option value="DT">Direccion de television</option>
                <option value="DN">Direccion de noticias</option>
                <option value="DR">Direccion de radio</option>
                <option value="DI">Direccion de ingenieria</option>
                <option value="DPE">Direccion de proyectos estrategicos</option>
                <option value="DC">Direccion de contraloria</option>
                <option value="DPI">Direccion de promocion e intercambio</option>
                <option value="DJ">Direccion juridica</option>
                <option value="IMG">Imagen</option>
                <option value="ER">Estaciones de radio</option>
                <option value="RH">Recursos Humanos</option>
            </select>
            <select id="subSelect" disabled name="subDepartment">
                <option selected disabled>-- Seleccione una opci贸n --</option>
            </select>
        </div>
            </div>
        <input  class="btn btn-lg button mt-0 mb-4" type="submit" value="Guardar">
        <script>

                // Definir las opciones correspondientes de cada dpto
            var subOptions = {
            "DG": ["Director general", "Asistente de la direccion general", "Auxiliar del dpto. de la direccion general",
                "Recepcion de entrada principal"
            ],
            "DCFP": ["DIR. de coordinacion financiera y plan.", "Subdirector de administracion", "Auxiliar Dir. de coordinacion financiera y plan.",
            "Recursos humanos","Servicios generales","Almacen","Archivo","Tecnologias de la informacion"
            ],
            "DT": ["Director de television", "Subdirector de contenidos", "Encargada de DPTO de Videoteca","Encargado de area de deportes",
                "Isla edicion de television","Cabina de video","Master"
            ],
            "DN": ["Directora de noticias", "Asistente de redaccion de noticias", "Encargado de la isla de noticias","Reportero"
            ],
            "DR": ["Director de red estatal de radio", "Secretaria particular DIR. Radio", "Radio Produccion","Subdirector de radio",
                "Gerente de radio","Sub. Coord. de noticias de radio","Cabina de grabacion", "Recepcion entrada principal"
            ],
            "DI": ["Director de ingenieria", "Subdirector de ingenieria", "Estacion terrena","aula de medios","central de aparatos"],
            "DPE": ["Director de proyectos estrategicos"],
            "DC": ["Directora de contraloria"],
            "DPI": ["Director de promocion e intercambio"],
            "DJ": ["Director juridico"],
            "IMG": ["Subdirector de imagen"],
            "ER":["Estacion de radio Jacala","Estacion de radio Tlanchinol","Estacion de radio huejutla","Red estatal de radio"],
            "RH":["Recursos Humanos"]
            };

            var mainSelect = document.getElementById('mainSelect');
            var subSelect = document.getElementById('subSelect');

            mainSelect.addEventListener('change', function() {
            subSelect.innerHTML = '';

            subSelect.disabled = false;
            var options = subOptions[this.value];

            for (var i = 0; i < options.length; i++) {
                var opt = document.createElement('option');
                opt.value = options[i];
                opt.innerHTML = options[i];
                subSelect.appendChild(opt);
            }   
        });


                document.querySelector('input[name="Curp"]').addEventListener('input', function (e) {
                    if (e.target.value.length !== 18) {
                        e.target.setCustomValidity('El campo Curp debe tener exactamente 18 caracteres.');
                    } else {
                        e.target.setCustomValidity('');
                    }
                });

                //validar que el telefono tenga 10 digitos
                document.querySelector('input[name="phone"]').addEventListener('input', function (e) {
                    if (e.target.value.length !== 10) {
                        e.target.setCustomValidity('El campo telefono debe tener exactamente 10 caracteres.');
                    } else {
                        e.target.setCustomValidity('');
                    }
                });

            </script>
        </form>
    </div>
    </div>
</body>

</html>