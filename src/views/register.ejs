<!DOCTYPE html>
<html>

<head>
    <title>
        <%= nombrePagina %>
    </title>
</head>

<body>
    <%= descripcion %>

        <form action="/registroVisitas" method="POST">
            <input type="text" name="name" id="" placeholder="Nombre">
            <input type="text" name="phone" placeholder="Telefono">
            <input type="text" name="email" placeholder="Correo electronico">
            <input type="text" name="CURP" placeholder="Curp">
            <select name="identification" required>
                <option selected disabled>-- Seleccione una opción --</option>
                <option value="INE">INE</option>
                <option value="Pasaporte">Pasaporte</option>
                <option value="Licencia">Licencia</option>
            </select>
            <input type="text" name="department" placeholder="Departamento">
            <input type="text" name="origin" placeholder="Procedencia">
            <input type="text" name="children" placeholder="Cuantos niños">
            <input type="text" name="badge" placeholder="inserte el numero de gafete">
            <input type="submit" value="Registrar visitante">

            <script>
                //validacion par la curp
                document.querySelector('input[name="Curp"]').addEventListener('input', function (e) {
                    if (e.target.value.length !== 18) {
                        e.target.setCustomValidity('El campo Curp debe tener exactamente 18 caracteres.');
                    } else {
                        e.target.setCustomValidity('');
                    }
                });
                //validacion par el correo
                document.querySelector('input[name="email"]').addEventListener('input', function (e) {
                    if (!e.target.value.includes('@')) {
                        e.target.setCustomValidity('El campo email debe ser un correo válido.');
                    } else {
                        e.target.setCustomValidity('');
                    }
                });

                //validacion para el telefono
                document.querySelector('input[name="phone"]').addEventListener('input', function (e) {
                    if (e.target.value.length !== 10) {
                        e.target.setCustomValidity('El campo telefono debe tener exactamente 10 caracteres.');
                    } else {
                        e.target.setCustomValidity('');
                    }
                });
                
            </script>
        </form>
</body>

</html>
